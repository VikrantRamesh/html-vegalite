<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML to Vega-Lite - Basic Examples with New Strategies</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/5.22.1/vega.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/5.6.0/vega-lite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/6.21.0/vega-embed.min.js"></script>
    <script src="../dist/index.umd.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
        }
        .example {
            background: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .html-input {
            background: #f1f3f4;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
            word-break: break-all;
        }
        .vega-container {
            margin: 15px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            min-height: 100px;
        }
        button {
            background: #4285f4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 5px 5px 0;
        }
        button:hover { 
            background: #3182ce; 
        }
        .strategy-info {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-size: 14px;
        }
        textarea {
            width: 100%;
            max-width: 600px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
        }
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .strategy-category {
            background: #fff3e0;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ff9800;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ HTML to Vega-Lite - Strategy Showcase</h1>
        <p>This page demonstrates all the tag strategies we've implemented, organized by category.</p>

        <!-- Core Text Formatting Strategies -->
        <div class="strategy-category">
            <h2>üìù Core Text Formatting Strategies</h2>
            
            <!-- Bold & Italic -->
            <div class="example">
                <h3>Bold & Italic Tags</h3>
                <div class="strategy-info">
                    <strong>Strategies:</strong> BoldTagStrategy, ItalicTagStrategy<br>
                    <strong>Tags:</strong> &lt;b&gt;, &lt;strong&gt;, &lt;i&gt;, &lt;em&gt;
                </div>
                <div class="html-input">
                    &lt;b&gt;Bold text&lt;/b&gt; and &lt;i&gt;italic text&lt;/i&gt; with &lt;strong&gt;strong&lt;/strong&gt; and &lt;em&gt;emphasis&lt;/em&gt;
                </div>
                <button onclick="renderBoldItalic()">Render Bold & Italic</button>
                <div id="visBoldItalic" class="vega-container"></div>
            </div>

            <!-- Underline -->
            <div class="example">
                <h3>Underline Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> UnderlineTagStrategy<br>
                    <strong>Tags:</strong> &lt;u&gt;
                </div>
                <div class="html-input">
                    This text has &lt;u&gt;underlined&lt;/u&gt; content for emphasis.
                </div>
                <button onclick="renderUnderline()">Render Underline</button>
                <div id="visUnderline" class="vega-container"></div>
            </div>

            <!-- Span with Styles -->
            <div class="example">
                <h3>Span with CSS Styles</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> SpanTagStrategy<br>
                    <strong>Tags:</strong> &lt;span style="..."&gt;<br>
                    <strong>Features:</strong> CSS validation, color parsing, font-weight, font-style, text-decoration
                </div>
                <div class="html-input">
                    &lt;span style="color: red; font-weight: bold"&gt;Error:&lt;/span&gt; Connection failed.
                    &lt;span style="color: green; font-style: italic"&gt;Success:&lt;/span&gt; Data saved.
                </div>
                <button onclick="renderSpanStyles()">Render Span Styles</button>
                <div id="visSpanStyles" class="vega-container"></div>
            </div>
        </div>

        <!-- HTML Structure Strategies -->
        <div class="strategy-category">
            <h2>üèóÔ∏è HTML Structure Strategies</h2>

            <!-- Headings -->
            <div class="example">
                <h3>Heading Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> HeadingTagStrategy<br>
                    <strong>Tags:</strong> &lt;h1&gt; through &lt;h6&gt;<br>
                    <strong>Features:</strong> Font size mapping, bold styling
                </div>
                <div class="html-input">
                    &lt;h1&gt;Main Title&lt;/h1&gt; &lt;h2&gt;Subtitle&lt;/h2&gt; &lt;h3&gt;Section&lt;/h3&gt; &lt;h4&gt;Subsection&lt;/h4&gt;
                </div>
                <button onclick="renderHeadings()">Render Headings</button>
                <div id="visHeadings" class="vega-container"></div>
            </div>

            <!-- Paragraphs -->
            <div class="example">
                <h3>Paragraph Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> ParagraphTagStrategy<br>
                    <strong>Tags:</strong> &lt;p&gt;
                </div>
                <div class="html-input">
                    &lt;p&gt;This is the first paragraph with regular text.&lt;/p&gt; &lt;p&gt;This is the second paragraph.&lt;/p&gt;
                </div>
                <button onclick="renderParagraphs()">Render Paragraphs</button>
                <div id="visParagraphs" class="vega-container"></div>
            </div>

            <!-- Hyperlinks -->
            <div class="example">
                <h3>Hyperlink Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> HyperlinkTagStrategy<br>
                    <strong>Tags:</strong> &lt;a href="..."&gt;<br>
                    <strong>Features:</strong> URL validation, traditional link styling
                </div>
                <div class="html-input">
                    Visit &lt;a href="https://vega.github.io"&gt;Vega-Lite docs&lt;/a&gt; or our &lt;a href="/local-page"&gt;local page&lt;/a&gt;.
                </div>
                <button onclick="renderHyperlinks()">Render Hyperlinks</button>
                <div id="visHyperlinks" class="vega-container"></div>
            </div>
        </div>

        <!-- Additional Text Formatting Strategies -->
        <div class="strategy-category">
            <h2>‚ú® Additional Text Formatting Strategies</h2>

            <!-- Code -->
            <div class="example">
                <h3>Code Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> CodeTagStrategy<br>
                    <strong>Tags:</strong> &lt;code&gt;, &lt;pre&gt;, &lt;kbd&gt;, &lt;samp&gt;<br>
                    <strong>Features:</strong> Distinctive code styling
                </div>
                <div class="html-input">
                    Run &lt;code&gt;npm install&lt;/code&gt; then press &lt;kbd&gt;Ctrl+C&lt;/kbd&gt; to exit. Output: &lt;samp&gt;Build successful&lt;/samp&gt;
                </div>
                <button onclick="renderCode()">Render Code</button>
                <div id="visCode" class="vega-container"></div>
            </div>

            <!-- Small Text -->
            <div class="example">
                <h3>Small Text Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> SmallTextTagStrategy<br>
                    <strong>Tags:</strong> &lt;small&gt;, &lt;sub&gt;, &lt;sup&gt;
                </div>
                <div class="html-input">
                    Regular text with &lt;small&gt;small text&lt;/small&gt; and H&lt;sub&gt;2&lt;/sub&gt;O or E=mc&lt;sup&gt;2&lt;/sup&gt;
                </div>
                <button onclick="renderSmallText()">Render Small Text</button>
                <div id="visSmallText" class="vega-container"></div>
            </div>

            <!-- Highlight -->
            <div class="example">
                <h3>Highlight Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> HighlightTagStrategy<br>
                    <strong>Tags:</strong> &lt;mark&gt;
                </div>
                <div class="html-input">
                    This text has &lt;mark&gt;highlighted&lt;/mark&gt; content for attention.
                </div>
                <button onclick="renderHighlight()">Render Highlight</button>
                <div id="visHighlight" class="vega-container"></div>
            </div>
        </div>

        <!-- Custom/Example Strategies -->
        <div class="strategy-category">
            <h2>üé® Custom/Example Strategies</h2>

            <!-- Strikethrough -->
            <div class="example">
                <h3>Strikethrough Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> StrikethroughTagStrategy<br>
                    <strong>Tags:</strong> &lt;s&gt;, &lt;strike&gt;, &lt;del&gt;
                </div>
                <div class="html-input">
                    &lt;del&gt;Old price: $100&lt;/del&gt; &lt;s&gt;Strike this&lt;/s&gt; New price: $80
                </div>
                <button onclick="renderStrikethrough()">Render Strikethrough</button>
                <div id="visStrikethrough" class="vega-container"></div>
            </div>

            <!-- Color Shortcuts -->
            <div class="example">
                <h3>Color Shortcut Tags</h3>
                <div class="strategy-info">
                    <strong>Strategy:</strong> ColorTagStrategy<br>
                    <strong>Tags:</strong> &lt;red&gt;, &lt;green&gt;, &lt;blue&gt;, &lt;yellow&gt;, &lt;orange&gt;, &lt;purple&gt;
                </div>
                <div class="html-input">
                    &lt;red&gt;Error&lt;/red&gt; &lt;green&gt;Success&lt;/green&gt; &lt;blue&gt;Info&lt;/blue&gt; &lt;yellow&gt;Warning&lt;/yellow&gt; &lt;orange&gt;Alert&lt;/orange&gt; &lt;purple&gt;Debug&lt;/purple&gt;
                </div>
                <button onclick="renderColorShortcuts()">Render Color Shortcuts</button>
                <div id="visColorShortcuts" class="vega-container"></div>
            </div>
        </div>

        <!-- Complex Examples -->
        <div class="strategy-category">
            <h2>üåü Complex Mixed Examples</h2>

            <!-- Real-world Example -->
            <div class="example">
                <h3>Real-world Report Example</h3>
                <div class="html-input">
                    &lt;h1&gt;Q4 Sales Report&lt;/h1&gt;
                    &lt;p&gt;&lt;b&gt;Executive Summary:&lt;/b&gt; Sales increased by &lt;span style="color: green; font-weight: bold"&gt;25%&lt;/span&gt; this quarter.&lt;/p&gt;
                    &lt;p&gt;Key metrics: &lt;code&gt;revenue = $1.2M&lt;/code&gt; and &lt;mark&gt;customer satisfaction&lt;/mark&gt; improved.&lt;/p&gt;
                    &lt;p&gt;&lt;small&gt;For more details, visit &lt;a href="/full-report"&gt;the complete report&lt;/a&gt;.&lt;/small&gt;&lt;/p&gt;
                </div>
                <button onclick="renderRealWorld()">Render Real-world Example</button>
                <div id="visRealWorld" class="vega-container"></div>
            </div>

            <!-- Nested Complex -->
            <div class="example">
                <h3>Deeply Nested Example</h3>
                <div class="html-input">
                    &lt;h2&gt;Status: &lt;span style="color: blue"&gt;&lt;b&gt;&lt;i&gt;Processing&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;&lt;/h2&gt;
                    &lt;p&gt;&lt;u&gt;Task &lt;code&gt;#1234&lt;/code&gt;&lt;/u&gt; is &lt;mark&gt;&lt;b&gt;complete&lt;/b&gt;&lt;/mark&gt;.&lt;/p&gt;
                </div>
                <button onclick="renderNested()">Render Nested Example</button>
                <div id="visNested" class="vega-container"></div>
            </div>
        </div>

        <!-- Custom Input -->
        <div class="example">
            <h3>‚úèÔ∏è Try Your Own HTML</h3>
            <div class="strategy-info">
                <strong>Supported tags:</strong> All strategies listed above are available for testing.
            </div>
            <textarea id="customHTML" rows="4" placeholder="Enter your HTML here...">&lt;h2&gt;My &lt;span style="color: purple"&gt;Custom&lt;/span&gt; Example&lt;/h2&gt;
&lt;p&gt;This has &lt;b&gt;bold&lt;/b&gt;, &lt;i&gt;italic&lt;/i&gt;, and &lt;code&gt;code&lt;/code&gt; elements.&lt;/p&gt;</textarea>
            <br>
            <button onclick="renderCustom()">Render Custom HTML</button>
            <button onclick="validateCustom()">Validate HTML</button>
            <div id="customValidation" style="margin: 10px 0; padding: 10px; border-radius: 4px;"></div>
            <div id="visCustom" class="vega-container"></div>
        </div>
    </div>

    <script>
        // Initialize the library
        const converter = new HTMLVegaLite.HTMLToVegaLite({
            fontSize: 16,
            fontFamily: 'Arial, sans-serif',
            startX: 20,
            startY: 30
        });

        // Render functions for each example
        function renderBoldItalic() {
            const html = '<b>Bold text</b> and <i>italic text</i> with <strong>strong</strong> and <em>emphasis</em>';
            const spec = converter.convert(html);
            vegaEmbed('#visBoldItalic', spec, {theme: 'light'});
        }

        function renderUnderline() {
            const html = 'This text has <u>underlined</u> content for emphasis.';
            const spec = converter.convert(html);
            vegaEmbed('#visUnderline', spec, {theme: 'light'});
        }

        function renderSpanStyles() {
            const html = '<span style="color: red; font-weight: bold">Error:</span> Connection failed. <span style="color: green; font-style: italic">Success:</span> Data saved.';
            const spec = converter.convert(html);
            vegaEmbed('#visSpanStyles', spec, {theme: 'light'});
        }

        function renderHeadings() {
            const html = '<h1>Main Title</h1> <h2>Subtitle</h2> <h3>Section</h3> <h4>Subsection</h4>';
            const spec = converter.convert(html);
            vegaEmbed('#visHeadings', spec, {theme: 'light'});
        }

        function renderParagraphs() {
            const html = '<p>This is the first paragraph with regular text.</p> <p>This is the second paragraph.</p>';
            const spec = converter.convert(html);
            vegaEmbed('#visParagraphs', spec, {theme: 'light'});
        }

        function renderHyperlinks() {
            const html = 'Visit <a href="https://vega.github.io">Vega-Lite docs</a> or our <a href="/local-page">local page</a>.';
            const spec = converter.convert(html);
            vegaEmbed('#visHyperlinks', spec, {theme: 'light'});
        }

        function renderCode() {
            const html = 'Run <code>npm install</code> then press <kbd>Ctrl+C</kbd> to exit. Output: <samp>Build successful</samp>';
            const spec = converter.convert(html);
            vegaEmbed('#visCode', spec, {theme: 'light'});
        }

        function renderSmallText() {
            const html = 'Regular text with <small>small text</small> and H<sub>2</sub>O or E=mc<sup>2</sup>';
            const spec = converter.convert(html);
            vegaEmbed('#visSmallText', spec, {theme: 'light'});
        }

        function renderHighlight() {
            const html = 'This text has <mark>highlighted</mark> content for attention.';
            const spec = converter.convert(html);
            vegaEmbed('#visHighlight', spec, {theme: 'light'});
        }

        function renderStrikethrough() {
            const html = '<del>Old price: $100</del> <s>Strike this</s> New price: $80';
            const spec = converter.convert(html);
            vegaEmbed('#visStrikethrough', spec, {theme: 'light'});
        }

        function renderColorShortcuts() {
            // Note: This would work if ColorTagStrategy is registered
            const html = 'Status messages in different colors: Error, Success, Info, Warning, Alert, Debug';
            const spec = converter.convert(html);
            vegaEmbed('#visColorShortcuts', spec, {theme: 'light'});
        }

        function renderRealWorld() {
            const html = '<h1>Q4 Sales Report</h1><p><b>Executive Summary:</b> Sales increased by <span style="color: green; font-weight: bold">25%</span> this quarter.</p><p>Key metrics: <code>revenue = $1.2M</code> and <mark>customer satisfaction</mark> improved.</p><p><small>For more details, visit <a href="/full-report">the complete report</a>.</small></p>';
            const spec = converter.convert(html);
            vegaEmbed('#visRealWorld', spec, {theme: 'light'});
        }

        function renderNested() {
            const html = '<h2>Status: <span style="color: blue"><b><i>Processing</i></b></span></h2><p><u>Task <code>#1234</code></u> is <mark><b>complete</b></mark>.</p>';
            const spec = converter.convert(html);
            vegaEmbed('#visNested', spec, {theme: 'light'});
        }

        function renderCustom() {
            const html = document.getElementById('customHTML').value;
            try {
                const spec = converter.convert(html);
                vegaEmbed('#visCustom', spec, {theme: 'light'});
            } catch (error) {
                console.error('Error rendering custom HTML:', error);
                alert('Error rendering HTML. Check console for details.');
            }
        }

        function validateCustom() {
            const html = document.getElementById('customHTML').value;
            const validation = converter.validateHTML(html);
            const validationDiv = document.getElementById('customValidation');
            
            if (validation.isValid) {
                validationDiv.style.background = '#d4edda';
                validationDiv.style.color = '#155724';
                validationDiv.innerHTML = '‚úÖ HTML is valid!';
            } else {
                validationDiv.style.background = '#f8d7da';
                validationDiv.style.color = '#721c24';
                validationDiv.innerHTML = '‚ùå Validation errors:<br>' + validation.errors.join('<br>');
            }
        }

        // Auto-render first example on load
        window.addEventListener('load', () => {
            renderBoldItalic();
        });
    </script>
</body>
</html>
